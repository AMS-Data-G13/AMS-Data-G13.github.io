---
layout: archive
title: "Amsterdam Transport"
permalink: /assignment-4/
author_profile: true
---

<p>
  First, we selected the starting and ending points for our route, which were AMS Institute and the Rijksmuseum, respectively. We then identified the nearest points on the Amsterdam canals corresponding to these two locations.
</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 4.0 plotting the route</span>
<span class="n">ox</span><span class="p">.</span><span class="nf">config</span><span class="p">(</span><span class="n">use_cache</span><span class="o">=</span><span class="no">True</span><span class="p">,</span> <span class="n">log_console</span><span class="o">=</span><span class="no">True</span><span class="p">)</span> 
<span class="n">city</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">graph_from_place</span><span class="p">(</span><span class="s1">'Amsterdam'</span><span class="p">,</span> <span class="n">retain_all</span><span class="o">=</span><span class="no">False</span><span class="p">,</span> <span class="n">truncate_by_edge</span><span class="o">=</span><span class="no">False</span><span class="p">,</span> 
                        <span class="n">simplify</span><span class="o">=</span><span class="no">True</span><span class="p">,</span> <span class="n">custom_filter</span><span class="o">=</span><span class="s1">'["waterway"~"canal"]'</span><span class="p">)</span> 

<span class="c1"># the starting and finishing point is AMS institute and the national museum</span>
<span class="n">location</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">geocode</span><span class="p">(</span><span class="s2">"Kattenburgerstraat 5, Amsterdam, Netherlands"</span><span class="p">)</span> 
<span class="n">location_to</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">geocode</span><span class="p">(</span><span class="s2">"Museumstraat 1, Amsterdam, Netherlands"</span><span class="p">)</span> 
<span class="n">nodes</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">distance</span><span class="p">.</span><span class="nf">nearest_nodes</span><span class="p">(</span><span class="n">city</span><span class="p">,</span> <span class="n">location</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">location</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">return_dist</span><span class="o">=</span><span class="no">True</span><span class="p">)</span> 
<span class="n">nodes_to</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">distance</span><span class="p">.</span><span class="nf">nearest_nodes</span><span class="p">(</span><span class="n">city</span><span class="p">,</span> <span class="n">location_to</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">location_to</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">return_dist</span><span class="o">=</span><span class="no">True</span><span class="p">)</span>

<span class="c1"># finding the route along the canal</span>
<span class="n">path</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">shortest_path</span><span class="p">(</span><span class="n">city</span><span class="p">,</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nodes_to</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> 
<span class="c1"># print(path)</span>

<span class="c1"># plotting</span>
<span class="n">pt</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">graph_to_gdfs</span><span class="p">(</span><span class="n">city</span><span class="p">,</span> <span class="n">edges</span><span class="o">=</span><span class="no">False</span><span class="p">).</span><span class="nf">unary_union</span><span class="p">.</span><span class="nf">centroid</span> 
<span class="n">bbox</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">utils_geo</span><span class="p">.</span><span class="nf">bbox_from_point</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span> 
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">plot_graph_route</span><span class="p">(</span><span class="n">city</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">bbox</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="no">False</span><span class="p">,</span> <span class="n">close</span><span class="o">=</span><span class="no">False</span><span class="p">)</span> 
</code></pre></div></div>

<iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 10%;height: 10%;margin: 0;padding: 0;}</style>
    <style>#map {position:relative;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_d6a48f82d7afc108f880cf2c483c77f5 {
                    position: relative;
                    width: 10.0%;
                    height: 10.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_d6a48f82d7afc108f880cf2c483c77f5&quot; ></div>
        
</body>
<script>
    
    
            var map_d6a48f82d7afc108f880cf2c483c77f5 = L.map(
                &quot;map_d6a48f82d7afc108f880cf2c483c77f5&quot;,
                {
                    center: [52.3720278, 4.9167054],
                    crs: L.CRS.EPSG3857,
                    zoom: 14,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_2c6085f385a935eeebf7bc063f770353 = L.tileLayer(
                &quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;Data by \u0026copy; \u003ca target=\&quot;_blank\&quot; href=\&quot;http://openstreetmap.org\&quot;\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\&quot;_blank\&quot; href=\&quot;http://www.openstreetmap.org/copyright\&quot;\u003eODbL\u003c/a\u003e.&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            ).addTo(map_d6a48f82d7afc108f880cf2c483c77f5);
        
    
            var marker_ed767af251fb51957d0ee6532f67b4b8 = L.marker(
                [52.3720278, 4.9167054],
                {}
            ).addTo(map_d6a48f82d7afc108f880cf2c483c77f5);
        
    
        var popup_925024e31f7377fe9a00c97ceda7519b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_80bae60e96243b602bd65f36bf75a79c = $(`<div id=&quot;html_80bae60e96243b602bd65f36bf75a79c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>start</div>`)[0];
                popup_925024e31f7377fe9a00c97ceda7519b.setContent(html_80bae60e96243b602bd65f36bf75a79c);
            
        

        marker_ed767af251fb51957d0ee6532f67b4b8.bindPopup(popup_925024e31f7377fe9a00c97ceda7519b)
        ;

        
    
    
            var marker_11880d70919c21b880c6983c6905f67b = L.marker(
                [52.3599934, 4.885348599101903],
                {}
            ).addTo(map_d6a48f82d7afc108f880cf2c483c77f5);
        
    
        var popup_6f96331638c50c9af5836b20c56938a6 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_8cc83d72f4032a236bbb8faf01ed9d60 = $(`<div id=&quot;html_8cc83d72f4032a236bbb8faf01ed9d60&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>End</div>`)[0];
                popup_6f96331638c50c9af5836b20c56938a6.setContent(html_8cc83d72f4032a236bbb8faf01ed9d60);
            
        

        marker_11880d70919c21b880c6983c6905f67b.bindPopup(popup_6f96331638c50c9af5836b20c56938a6)
        ;

        
    
</script>
</html>" style="position:relative;width:10%;height:10%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe>

<p>
  Using these two points, we plotted the shortest path, which became the course for our activity. The path is shown in Figure 1 (luckily it’s over 5 km). Combining the knowledge from Assignments 1 and 2, we chose a route that avoided areas of poor water quality and was therefore a good choice.
</p>

<p>
  <img src="/images/Figure_1.png" alt="Route">
</p>
<p style="text-align: center;"> <span style="color:grey"> (Figure 1, the swimming route) </span></p>

<p>
  In Figure 1, the final chosen route is depicted in red, while other waterways and nodes are shown in white.
</p>

<h3 id="1find-the-centre-of-the-nodes-of-the-swimming-route-see-this-link">1.Find the centre of the nodes of the swimming route. <a href="https://stackoverflow.com/questions/46238813/osmnx-get-coordinates-of-nodes-using-osm-id">See this link</a>.
</h3>

<p>
  <img src="/images/letax.jpg" alt="letax">
</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># calculating the cordinates of the center point</span>
<span class="n">lat</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">lon</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="k">for</span> <span class="n">points</span> <span class="k">in</span> <span class="ss">path: 
    </span><span class="n">lat</span> <span class="o">+=</span> <span class="n">city</span><span class="p">.</span><span class="nf">nodes</span><span class="p">[</span><span class="n">points</span><span class="p">][</span><span class="s1">'x'</span><span class="p">]</span> 
    <span class="n">lon</span> <span class="o">+=</span> <span class="n">city</span><span class="p">.</span><span class="nf">nodes</span><span class="p">[</span><span class="n">points</span><span class="p">][</span><span class="s1">'y'</span><span class="p">]</span> 
<span class="n">lat_center</span> <span class="o">=</span> <span class="n">lat</span> <span class="o">/</span> <span class="n">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> 
<span class="n">lon_center</span> <span class="o">=</span> <span class="n">lon</span> <span class="o">/</span> <span class="n">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> 
<span class="n">center_point</span> <span class="o">=</span> <span class="p">(</span><span class="n">lon_center</span><span class="p">,</span> <span class="n">lat_center</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">center_point</span><span class="p">)</span>

<span class="c1"># plotting</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="n">lon_center</span><span class="p">,</span> <span class="n">lat_center</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">)</span> 
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<p>
  When calculating the centre point, we added the coordinates of all points along the track and divided the sum by the number of points. This calculation yielded the corrected coordinates of the centre point, (52.36604662, 4.9001779899999995). The central point was then plotted on the map, as illustrated in Figure 2.
</p>

<p>
  <img src="/images/Figure_2.png" alt="Spot">
</p>
<p style="text-align: center;"> <span style="color:grey"> (Figure 2, the centre point) </span></p>

<h3 id="2use-the-centre-to-find-a-suitable-spot-for-the-event-headquarters">2.Use the centre to find a suitable spot for the Event Headquarters.
</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># finding the whole map and finding the center node from the map</span>
<span class="n">city_whole</span> <span class="o">=</span> <span class="p">(</span><span class="n">ox</span><span class="p">.</span><span class="nf">graph_from_place</span><span class="p">(</span><span class="s1">'Amsterdam, Netherlands'</span><span class="p">,</span> <span class="n">simplify</span><span class="o">=</span><span class="no">True</span><span class="p">))</span> 
<span class="n">nodes_centre</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">distance</span><span class="p">.</span><span class="nf">nearest_nodes</span><span class="p">(</span><span class="n">city_whole</span><span class="p">,</span> <span class="n">center_point</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">center_point</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">return_dist</span><span class="o">=</span><span class="no">True</span><span class="p">)</span>

<span class="c1"># plotting</span>
<span class="n">pt</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">graph_to_gdfs</span><span class="p">(</span><span class="n">city</span><span class="p">,</span> <span class="n">edges</span><span class="o">=</span><span class="no">False</span><span class="p">).</span><span class="nf">unary_union</span><span class="p">.</span><span class="nf">centroid</span> 
<span class="n">bbox</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">utils_geo</span><span class="p">.</span><span class="nf">bbox_from_point</span><span class="p">(</span><span class="n">center_point</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span> 
<span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">plot_graph</span><span class="p">(</span><span class="n">city_whole</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">bbox</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="no">True</span><span class="p">,</span> <span class="n">close</span><span class="o">=</span> <span class="no">False</span><span class="p">)</span> 
<span class="n">ax1</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="n">center_point</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">center_point</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">)</span> 
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<p>
  From the centre point, we found the nearest location on the map of Amsterdam, as shown in Figure 3. The post code of this location is 1018 DP Amsterdam and is close to Jonas Daniël Meijerplein.The area has a lot of open space, making it a viable location. In addition, it is easily accessible to all nodes on the track, making it a reasonable choice.
</p>

<p>
  <img src="/images/Figure_3.png" alt="Spot">
</p>
<p style="text-align: center;"> <span style="color:grey"> (Figure 3, a suitable spot) </span></p>

<h3 id="3find-the-closest-bus-and-tram-stops-at-the-start-and-finish-of-the-swimming-route-how-many-people-can-be-transported-within-an-hour">3.Find the closest bus and tram stops at the start and finish of the swimming route. How many people can be transported within an hour.
</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#finding the bus and tram stops near the starting point</span>
<span class="ss">try: 
    </span><span class="n">bus_stop</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">features</span><span class="p">.</span><span class="nf">features_from_point</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">{</span><span class="s1">'public_transport'</span><span class="p">:</span> <span class="s1">'stop_position'</span><span class="p">},</span> <span class="n">dist</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span> 
    <span class="n">bus_stop</span><span class="p">.</span><span class="nf">to_csv</span><span class="p">(</span><span class="s2">"bus_stop.csv"</span><span class="p">)</span> 
    <span class="nb">print</span><span class="p">(</span><span class="n">bus_stop</span><span class="p">.</span><span class="nf">name</span><span class="p">)</span> 
<span class="ss">except: 
    </span><span class="nb">print</span><span class="p">(</span><span class="s2">"no station in @‘dist’ metres"</span><span class="p">)</span>

<span class="c1"># finding the bus and tram stops near the ending point</span>
<span class="ss">try: 
    </span><span class="n">bus_stop_to</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">features</span><span class="p">.</span><span class="nf">features_from_point</span><span class="p">(</span><span class="n">location_to</span><span class="p">,</span> <span class="n">tags</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'public_transport'</span><span class="p">:</span> <span class="s1">'stop_position'</span><span class="p">},</span> <span class="n">dist</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span> 
    <span class="n">bus_stop_to</span><span class="p">.</span><span class="nf">to_csv</span><span class="p">(</span><span class="s2">"bus_stop_to.csv"</span><span class="p">)</span> 
    <span class="nb">print</span><span class="p">(</span><span class="n">bus_stop_to</span><span class="p">.</span><span class="nf">name</span><span class="p">)</span> 
<span class="ss">except: 
    </span><span class="nb">print</span><span class="p">(</span><span class="s2">"no station in @‘dist’ metres"</span><span class="p">)</span>
</code></pre></div></div>

<p>
  Initially, considering pedestrian accessibility, we searched for stations within a certain radius of the start and end points. We chose a search radius of 500 metres. Table 1 shows the list of stations collected.
</p>

<p><a href="/files/Table1.xlsx">Table 1</a></p>

<head>
  <title>Location</title>
  <style>
    .fixed_header {
        width: auto;
        table-layout: fixed;
        border-collapse: collapse;
      }
      .fixed_header tbody {
        display: block;
        width: 100%;
        overflow: auto;
        height: 300px;
      }
      .fixed_header thead tr {
        display: block;
      }
      .fixed_header thead {
        background: #e4e4e4e4;
        color: black;
      }
      .fixed_header th,
      .fixed_header td {
        padding: 5px;
        text-align: right;
        width: auto;
      }
  </style>
</head>
<body>
<table class="fixed_header">
  <thead><tr><th>Close_to</th><th>Bus</th><th>Tram</th><th>Name</th><th>Geometry</th></tr></thead><tbody><tr><td>start</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Piet Heinkade</td><td>POINT (4.9135819 52.3773362)</td></tr><tr><td>start</td><td>&nbsp;</td><td>yes</td><td>Muziekgebouw</td><td>POINT (4.9134308 52.3772063)</td></tr><tr><td>start</td><td>&nbsp;</td><td>yes</td><td>Muziekgebouw</td><td>POINT (4.912547 52.3772761)</td></tr><tr><td>start</td><td>&nbsp;</td><td>yes</td><td>Kattenburgerstraat</td><td>POINT (4.9211099 52.3761672)</td></tr><tr><td>start</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Kattenburgerstraat</td><td>POINT (4.9184891 52.372718)</td></tr><tr><td>start</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Kattenburgerstraat</td><td>POINT (4.9179263 52.372271)</td></tr><tr><td>start</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, IJ tunnel</td><td>POINT (4.9094406 52.3722719)</td></tr><tr><td>start</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Kattenburg</td><td>POINT (4.9205741 52.3764724)</td></tr><tr><td>start</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Piet Heinkade</td><td>POINT (4.9140766 52.377227)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Concertgebouw</td><td>POINT (4.8796377 52.3566951)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Rijksmuseum</td><td>POINT (4.887104 52.3609734)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Vijzelgracht</td><td>POINT (4.8909623 52.3599031)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Concertgebouw</td><td>POINT (4.8795995 52.3560193)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Museumplein</td><td>POINT (4.8812446 52.358854)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Vijzelgracht</td><td>POINT (4.8921024 52.3595051)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Concertgebouw</td><td>POINT (4.8791804 52.3559245)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Concertgebouw</td><td>POINT (4.8798 52.3564107)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Leidseplein</td><td>POINT (4.8806142 52.3625646)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Leidseplein</td><td>POINT (4.8830722 52.3634714)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Vijzelgracht</td><td>POINT (4.8910303 52.3600132)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Van Baerlestraat</td><td>POINT (4.878318 52.3584538)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Van Baerlestraat</td><td>POINT (4.8781266 52.3587793)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Leidseplein</td><td>POINT (4.8829633 52.3642229)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Rijksmuseum</td><td>POINT (4.8873395 52.3608307)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Ferdinand Bolstraat</td><td>POINT (4.8918514 52.3579917)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Leidseplein</td><td>POINT (4.8810441 52.3620635)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Ruysdaelkade</td><td>POINT (4.8865615 52.3602454)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Ruysdaelkade</td><td>POINT (4.8865688 52.3603257)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Ferdinand Bolstraat</td><td>POINT (4.8923047 52.3579616)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Marie Heinekenplein</td><td>POINT (4.8907033 52.3570037)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Marie Heinekenplein</td><td>POINT (4.8907718 52.3571177)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Leidseplein</td><td>POINT (4.8810698 52.3632085)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Concertgebouw</td><td>POINT (4.8785466 52.3554983)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Vijzelgracht</td><td>POINT (4.8910469 52.3606866)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Vijzelgracht</td><td>POINT (4.8912207 52.3606661)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Vijzelgracht</td><td>POINT (4.8925358 52.3594772)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Leidseplein</td><td>POINT (4.8809776 52.3631402)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Weteringcircuit</td><td>POINT (4.8923379 52.3593327)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Concertgebouw</td><td>POINT (4.8795913 52.3560311)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Concertgebouw</td><td>POINT (4.8796233 52.3566894)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Concertgebouw</td><td>POINT (4.8798146 52.3564161)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Museumplein</td><td>POINT (4.8806042 52.3587143)</td></tr><tr><td>finish</td><td>&nbsp;</td><td>yes</td><td>Museumplein</td><td>POINT (4.880612 52.3586985)</td></tr><tr><td>finish</td><td>yes</td><td>&nbsp;</td><td>Amsterdam, Museumplein</td><td>POINT (4.8808204 52.3586774)</td></tr></tbody>
</table>

<p>
  In the estimation, we have assumed an average arrival frequency of 5 buses per hour and 4 trams per hour (source: <a href="https://www.introducingamsterdam.com/public-transport?_gl=1*q6cymw*_up*MQ..*_ga*MTI1NTU0Mjk1OS4xNjk3NTUyMjAw*_ga_216706797*MTY5NzU1MjIwMC4xLjAuMTY5NzU1MjIwMC4wLjAuMA..">Public transport in Amsterdam</a>). In addition, we estimate that the maximum capacity of each bus is 30 passengers and that of each tram is 50 passengers. Based on these rough estimates, we can calculate that the maximum interchange capacities of the stations near the origin and the terminus in an hour are 1,150 and 6,450 respectively.
</p>

<h3 id="4can-you-find-which-bus-and-tram-lines-these-are-and-can-you-find-their-routes">4.Can you find which bus and tram lines these are, and can you find their routes?
</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># finding the bus route,but the code is not showing any route, reason unknown</span>
<span class="n">tags</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'route'</span><span class="p">:</span> <span class="s1">'bus'</span><span class="p">}</span>
<span class="n">gdfox</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">features_from_point</span><span class="p">(</span><span class="n">location_to</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gdfox</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="5calculate-the-centrality-of-the-start-finish-and-centre-node-of-the-route-which-centrality-calculation-makes-the-most-sense-see-this-link">5.Calculate the centrality of the start, finish, and centre node of the route. Which centrality calculation makes the most sense. <a href="https://networkx.org/documentation/stable/reference/algorithms/centrality.html">See this link</a>.
</h3>

<p>
  Closeness centrality measures how easily a node can reach other nodes in a network. It’s used to determine the point’s accessibility within a network. Nodes with high closeness centrality are closer, in terms of network connections, to other nodes. In a geographic context, this reflects that these points are more accessible, similar to how central locations in a city are more easily reachable from other places. Therefore, we choose closeness centrality to give support evidence for the choosing of the points.
</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># finding the map</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">graph_from_point</span><span class="p">(</span><span class="n">center_point</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>

<span class="c1"># finding the nodes close to the start/center/end point</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">distance</span><span class="p">.</span><span class="nf">nearest_nodes</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">location</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">location</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">return_dist</span><span class="o">=</span><span class="no">True</span><span class="p">)</span>
<span class="n">nodes_to</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">distance</span><span class="p">.</span><span class="nf">nearest_nodes</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">location_to</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">location_to</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">return_dist</span><span class="o">=</span><span class="no">True</span><span class="p">)</span>
<span class="n">nodes_cen</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">distance</span><span class="p">.</span><span class="nf">nearest_nodes</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">center_point</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">center_point</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">return_dist</span><span class="o">=</span><span class="no">True</span><span class="p">)</span>

<span class="c1"># calculate centrality</span>
<span class="n">start_centrality</span> <span class="o">=</span> <span class="n">nx</span><span class="p">.</span><span class="nf">closeness_centrality</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">cen_centrality</span> <span class="o">=</span> <span class="n">nx</span><span class="p">.</span><span class="nf">closeness_centrality</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">nodes_cen</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">end_centrality</span> <span class="o">=</span> <span class="n">nx</span><span class="p">.</span><span class="nf">closeness_centrality</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">nodes_to</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">start_centrality</span><span class="p">,</span><span class="n">cen_centrality</span><span class="p">,</span><span class="n">end_centrality</span><span class="p">)</span>
</code></pre></div></div>

<table>
  <thead><tr><th>Point</th><th>Node</th></tr></thead><tbody><tr><td>Start point</td><td>0.014975167550752658</td></tr><tr><td>Center point</td><td>0.016698413110206794</td></tr><tr><td>End point</td><td>0.014168299848680767</td></tr></tbody>
</table>

<p>
  The results are largely consistent with our expectations. The center point is indeed closer to the center of Amsterdam, which makes it more accessible to other points on the map. However, it’s important to note that the calculated results can vary based on factors such as the selected map size and the parameters used, including the choice of the center point.
</p>

<h3 id="6find-all-cafes-restaurants-near-the-finish-line-walking-time-smaller-than-10-minutes">6.Find all cafes, restaurants near the finish line. Walking time smaller than 10 minutes.
</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># finding the map near the ending point</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">close</span><span class="p">(</span><span class="s1">'all'</span><span class="p">)</span> 
<span class="n">graph</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">graph_from_point</span><span class="p">(</span><span class="n">location_to</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="mi">2100</span><span class="p">)</span>

<span class="c1"># extracting all the cafes and restaurants within 750 radius</span>
<span class="n">poi</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">features</span><span class="p">.</span><span class="nf">features_from_point</span><span class="p">(</span><span class="n">location_to</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">{</span><span class="s1">'amenity'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'cafe'</span><span class="p">,</span><span class="s1">'restaurant'</span><span class="p">]},</span> <span class="n">dist</span><span class="o">=</span><span class="mi">750</span><span class="p">)</span> 
<span class="n">target_node</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">distance</span><span class="p">.</span><span class="nf">nearest_nodes</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">location_to</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">location_to</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">return_dist</span><span class="o">=</span><span class="no">True</span><span class="p">)</span> 
<span class="n">pt</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">graph_to_gdfs</span><span class="p">(</span><span class="n">city_whole</span><span class="p">,</span> <span class="n">edges</span><span class="o">=</span><span class="no">False</span><span class="p">).</span><span class="nf">unary_union</span><span class="p">.</span><span class="nf">centroid</span> 
<span class="n">bbox</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">utils_geo</span><span class="p">.</span><span class="nf">bbox_from_point</span><span class="p">(</span><span class="n">location_to</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="mi">2100</span><span class="p">)</span> 
<span class="n">fig2</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">plot_graph</span><span class="p">(</span><span class="n">city_whole</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">bbox</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="no">False</span><span class="p">,</span> <span class="n">close</span><span class="o">=</span><span class="no">False</span><span class="p">)</span>

<span class="c1"># examine the shortest distance, if it is within 10 minutes walk(750m)</span>
<span class="nb">name</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">row</span> <span class="k">in</span> <span class="n">poi</span><span class="o">.</span><span class="no">T</span><span class="o">.</span><span class="no">T</span><span class="p">.</span><span class="nf">itertuples</span><span class="p">():</span>
    <span class="ss">try:
        </span><span class="n">orig</span> <span class="o">=</span> <span class="n">getattr</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s1">'geometry'</span><span class="p">)</span>
        <span class="n">name1</span> <span class="o">=</span> <span class="n">getattr</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">)</span>
        <span class="n">orig_node</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="nf">distance</span><span class="p">.</span><span class="nf">nearest_nodes</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">orig</span><span class="p">.</span><span class="nf">x</span><span class="p">,</span> <span class="n">orig</span><span class="p">.</span><span class="nf">y</span><span class="p">,</span> <span class="n">return_dist</span><span class="o">=</span><span class="no">True</span><span class="p">)</span>
        <span class="n">length</span> <span class="o">=</span> <span class="n">nx</span><span class="p">.</span><span class="nf">shortest_path_length</span><span class="p">(</span><span class="no">G</span><span class="o">=</span><span class="n">graph</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">orig_node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">target</span><span class="o">=</span><span class="n">target_node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">weight</span><span class="o">=</span><span class="s1">'length'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">length</span> <span class="o">&lt;</span><span class="mi">750</span><span class="p">:</span>
            <span class="nb">name</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">name1</span><span class="p">)</span>
            <span class="n">ax2</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="n">orig</span><span class="p">.</span><span class="nf">x</span><span class="p">,</span> <span class="n">orig</span><span class="p">.</span><span class="nf">y</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">listing1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="no">DataFrame</span><span class="p">(</span>
                    <span class="p">{</span><span class="s2">"amenity"</span><span class="p">:[</span><span class="n">getattr</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s1">'amenity'</span><span class="p">)],</span><span class="s2">"length"</span><span class="p">:[</span><span class="n">length</span><span class="p">],</span><span class="s2">"name"</span><span class="p">:[</span><span class="n">getattr</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">)],</span>
                     <span class="s2">"geometry"</span><span class="p">:[</span><span class="n">getattr</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s1">'geometry'</span><span class="p">)],</span><span class="s2">"description"</span><span class="p">:[</span><span class="n">getattr</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s1">'description'</span><span class="p">)]})</span>
            <span class="ss">else:
                </span><span class="n">listing</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="no">DataFrame</span><span class="p">(</span>
                    <span class="p">{</span><span class="s2">"amenity"</span><span class="p">:</span> <span class="p">[</span><span class="n">getattr</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s1">'amenity'</span><span class="p">)],</span> <span class="s2">"length"</span><span class="p">:</span> <span class="p">[</span><span class="n">length</span><span class="p">],</span> <span class="s2">"name"</span><span class="p">:</span> <span class="p">[</span><span class="n">getattr</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">)],</span>
                     <span class="s2">"geometry"</span><span class="p">:</span> <span class="p">[</span><span class="n">getattr</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s1">'geometry'</span><span class="p">)],</span> <span class="s2">"description"</span><span class="p">:</span> <span class="p">[</span><span class="n">getattr</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s1">'description'</span><span class="p">)]})</span>
                <span class="n">listing1</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">concat</span><span class="p">([</span><span class="n">listing1</span><span class="p">,</span> <span class="n">listing</span><span class="p">],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="no">True</span><span class="p">)</span>

    <span class="ss">except:
        </span><span class="n">pass</span>
<span class="n">listing1</span><span class="p">.</span><span class="nf">to_csv</span><span class="p">(</span><span class="s2">"listing.csv"</span><span class="p">)</span>

<span class="c1"># plotting</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span> 
<span class="n">plt</span><span class="p">.</span><span class="nf">savefig</span><span class="p">(</span><span class="s2">"4.jpg"</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
</code></pre></div></div>

<p>
  <img src="/images/Figure_4.png" alt="Cafe">
</p>
<p style="text-align: center;"> <span style="color:grey"> (Figure 4, all nearby cafes and restaurants) </span></p>

<p>
  <a href="/files/name_listing.csv">Table 2</a>
</p>

<table class="fixed_header">
  <thead><tr><th>num</th><th>amenity</th><th>length</th><th>name</th><th>geometry</th></tr></thead><tbody><tr><td>1</td><td>restaurant</td><td>703.303</td><td>Waaghals</td><td>POINT (4.889014 52.3571286)</td></tr><tr><td>2</td><td>cafe</td><td>644.229</td><td>Café Americain</td><td>POINT (4.8813718 52.3638967)</td></tr><tr><td>3</td><td>restaurant</td><td>542.675</td><td>Bollywood Indian Restaurant</td><td>POINT (4.8844033 52.3639694)</td></tr><tr><td>4</td><td>restaurant</td><td>542.675</td><td>Puri Mas Indonesisch Restaurant</td><td>POINT (4.8845382 52.3641036)</td></tr><tr><td>5</td><td>restaurant</td><td>625.788</td><td>Brasserie Keyzer</td><td>POINT (4.8792088 52.3568126)</td></tr><tr><td>6</td><td>restaurant</td><td>545.967</td><td>Small Talk</td><td>POINT (4.878408 52.3579755)</td></tr><tr><td>7</td><td>restaurant</td><td>703.303</td><td>ISSHIN</td><td>POINT (4.8886451 52.3570377)</td></tr><tr><td>8</td><td>restaurant</td><td>425.239</td><td>Otaru</td><td>POINT (4.8888704 52.3584175)</td></tr><tr><td>9</td><td>restaurant</td><td>311.648</td><td>Sama Sebo</td><td>POINT (4.8831414 52.3606764)</td></tr><tr><td>10</td><td>restaurant</td><td>557.641</td><td>Maxies</td><td>POINT (4.8797621 52.3600875)</td></tr><tr><td>11</td><td>restaurant</td><td>430.877</td><td>Hard Rock Cafe</td><td>POINT (4.8833077 52.3621869)</td></tr><tr><td>12</td><td>restaurant</td><td>605.926</td><td>Hosokawa</td><td>POINT (4.8827502 52.3629202)</td></tr><tr><td>13</td><td>restaurant</td><td>430.266</td><td>Wagamama</td><td>POINT (4.8831541 52.3625079)</td></tr><tr><td>14</td><td>restaurant</td><td>430.877</td><td>Maximus Steak House</td><td>POINT (4.8834726 52.3622945)</td></tr><tr><td>15</td><td>restaurant</td><td>520.712</td><td>De Balie</td><td>POINT (4.883101 52.36312)</td></tr><tr><td>16</td><td>cafe</td><td>694.408</td><td>Starbucks</td><td>POINT (4.8836352 52.3645106)</td></tr><tr><td>17</td><td>cafe</td><td>584.227</td><td>Superskunk Coffeeshop</td><td>POINT (4.8851485 52.3642612)</td></tr><tr><td>18</td><td>restaurant</td><td>542.675</td><td>Piccolino</td><td>POINT (4.8852731 52.3636053)</td></tr><tr><td>19</td><td>restaurant</td><td>353.062</td><td>Momo</td><td>POINT (4.8825862 52.3615027)</td></tr><tr><td>20</td><td>restaurant</td><td>511.865</td><td>Oma</td><td>POINT (4.8851836 52.3630587)</td></tr><tr><td>21</td><td>restaurant</td><td>634.081</td><td>Stoop &amp; Stoop Eetcafé</td><td>POINT (4.8838952 52.3642795)</td></tr><tr><td>22</td><td>restaurant</td><td>634.081</td><td>Pancake Corner Restaurant</td><td>POINT (4.88345 52.3640344)</td></tr><tr><td>23</td><td>restaurant</td><td>522.801</td><td>Palladium Restaurant Club</td><td>POINT (4.8835286 52.3635772)</td></tr><tr><td>24</td><td>restaurant</td><td>652.319</td><td>Nam Kee</td><td>POINT (4.8911961 52.3574253)</td></tr><tr><td>25</td><td>restaurant</td><td>677.521</td><td>de Oesterbar</td><td>POINT (4.8827741 52.3647013)</td></tr><tr><td>26</td><td>restaurant</td><td>542.675</td><td>Antonio’s Restaurante</td><td>POINT (4.88489 52.3636482)</td></tr><tr><td>27</td><td>restaurant</td><td>542.675</td><td>Bojo</td><td>POINT (4.8847921 52.3639322)</td></tr><tr><td>28</td><td>restaurant</td><td>542.675</td><td>Chicano’s</td><td>POINT (4.8847449 52.363749)</td></tr><tr><td>29</td><td>restaurant</td><td>511.865</td><td>De blauwe Hollander</td><td>POINT (4.8847235 52.3635484)</td></tr><tr><td>30</td><td>restaurant</td><td>542.675</td><td>El Rancho</td><td>POINT (4.8845402 52.3638816)</td></tr><tr><td>31</td><td>restaurant</td><td>694.408</td><td>Greek</td><td>POINT (4.8841943 52.3643571)</td></tr><tr><td>32</td><td>restaurant</td><td>694.408</td><td>Los Amigos</td><td>POINT (4.8842525 52.3642942)</td></tr><tr><td>33</td><td>restaurant</td><td>634.081</td><td>Mimo</td><td>POINT (4.8843814 52.3642096)</td></tr><tr><td>34</td><td>restaurant</td><td>542.675</td><td>Mykonos</td><td>POINT (4.8846815 52.3640102)</td></tr><tr><td>35</td><td>restaurant</td><td>694.408</td><td>O’ Sole Mio</td><td>POINT (4.8841433 52.3644198)</td></tr><tr><td>36</td><td>restaurant</td><td>511.865</td><td>Peppino</td><td>POINT (4.8846075 52.3634912)</td></tr><tr><td>37</td><td>restaurant</td><td>694.408</td><td>Pisa</td><td>POINT (4.8839811 52.3644852)</td></tr><tr><td>38</td><td>restaurant</td><td>634.081</td><td>Royal Thai</td><td>POINT (4.8842311 52.3641259)</td></tr><tr><td>39</td><td>restaurant</td><td>542.675</td><td>Tapas</td><td>POINT (4.8849795 52.3637854)</td></tr><tr><td>40</td><td>restaurant</td><td>511.865</td><td>Mr Tong’s</td><td>POINT (4.8848237 52.3633343)</td></tr><tr><td>41</td><td>restaurant</td><td>542.675</td><td>Zorba de Griek</td><td>POINT (4.8851083 52.3637257)</td></tr><tr><td>42</td><td>restaurant</td><td>634.081</td><td>Do Brasil</td><td>POINT (4.8840332 52.3641938)</td></tr><tr><td>43</td><td>restaurant</td><td>511.865</td><td>il Palio</td><td>POINT (4.8849115 52.3633969)</td></tr><tr><td>44</td><td>restaurant</td><td>511.865</td><td>Mama</td><td>POINT (4.8846914 52.3631784)</td></tr><tr><td>45</td><td>restaurant</td><td>511.865</td><td>Ceppi’s</td><td>POINT (4.8850519 52.3628586)</td></tr><tr><td>46</td><td>restaurant</td><td>542.675</td><td>El Patio Granada</td><td>POINT (4.8854166 52.3635176)</td></tr><tr><td>47</td><td>restaurant</td><td>511.865</td><td>Leeuw</td><td>POINT (4.8848025 52.3630944)</td></tr><tr><td>48</td><td>restaurant</td><td>511.865</td><td>Madras</td><td>POINT (4.8848499 52.3630641)</td></tr><tr><td>49</td><td>restaurant</td><td>511.865</td><td>Maya</td><td>POINT (4.8844538 52.3636051)</td></tr><tr><td>50</td><td>restaurant</td><td>338.413</td><td>Mayur</td><td>POINT (4.8861759 52.3623426)</td></tr><tr><td>51</td><td>restaurant</td><td>509.305</td><td>In de Buurt</td><td>POINT (4.8845121 52.3630261)</td></tr><tr><td>52</td><td>restaurant</td><td>542.675</td><td>Porto Carrara</td><td>POINT (4.8852647 52.3634013)</td></tr><tr><td>53</td><td>restaurant</td><td>511.865</td><td>Sherpa</td><td>POINT (4.8847519 52.3631367)</td></tr><tr><td>54</td><td>restaurant</td><td>511.865</td><td>Taste of Culture</td><td>POINT (4.8851368 52.3631049)</td></tr><tr><td>55</td><td>restaurant</td><td>542.675</td><td>El Vino</td><td>POINT (4.8848889 52.3639005)</td></tr><tr><td>56</td><td>restaurant</td><td>542.675</td><td>Granada</td><td>POINT (4.8853422 52.3636437)</td></tr><tr><td>57</td><td>restaurant</td><td>584.227</td><td>Japan Inn</td><td>POINT (4.8854331 52.3638952)</td></tr><tr><td>58</td><td>restaurant</td><td>542.675</td><td>Los Argentinos</td><td>POINT (4.8854787 52.3637143)</td></tr><tr><td>59</td><td>restaurant</td><td>542.675</td><td>Moshi Moshi</td><td>POINT (4.8854104 52.36368)</td></tr><tr><td>60</td><td>restaurant</td><td>694.408</td><td>The Guru of India</td><td>POINT (4.8828626 52.3650182)</td></tr><tr><td>61</td><td>restaurant</td><td>491.747</td><td>Pancake Corner</td><td>POINT (4.8838974 52.3628007)</td></tr><tr><td>62</td><td>restaurant</td><td>697.253</td><td>De Smoeshaan</td><td>POINT (4.8805712 52.3640307)</td></tr><tr><td>63</td><td>restaurant</td><td>731.813</td><td>Café Loetje</td><td>POINT (4.8842366 52.3543672)</td></tr><tr><td>64</td><td>restaurant</td><td>207.754</td><td>Srikandi</td><td>POINT (4.8836467 52.3614794)</td></tr><tr><td>65</td><td>restaurant</td><td>634.081</td><td>Maximus Pizzeria - Steakhouse</td><td>POINT (4.8836566 52.3641394)</td></tr><tr><td>66</td><td>restaurant</td><td>677.521</td><td>Sumo</td><td>POINT (4.882715 52.3647599)</td></tr><tr><td>67</td><td>restaurant</td><td>643.662</td><td>Kaasbar</td><td>POINT (4.8905157 52.3572817)</td></tr><tr><td>68</td><td>restaurant</td><td>698.081</td><td>Yuan’s Hot Pot</td><td>POINT (4.8904953 52.3570239)</td></tr><tr><td>69</td><td>restaurant</td><td>652.319</td><td>Taj</td><td>POINT (4.891031 52.3574228)</td></tr><tr><td>70</td><td>restaurant</td><td>724.995</td><td>Simpel</td><td>POINT (4.8907851 52.3565041)</td></tr><tr><td>71</td><td>restaurant</td><td>724.995</td><td>Soju Bar</td><td>POINT (4.8907691 52.3564272)</td></tr><tr><td>72</td><td>restaurant</td><td>724.995</td><td>The Seafood Bar</td><td>POINT (4.8904068 52.3564701)</td></tr><tr><td>73</td><td>restaurant</td><td>718.614</td><td>Monte Verde</td><td>POINT (4.8872973 52.3547524)</td></tr><tr><td>74</td><td>restaurant</td><td>700.448</td><td>De kleine Valk</td><td>POINT (4.891505 52.3573485)</td></tr><tr><td>75</td><td>restaurant</td><td>718.614</td><td>Juuls</td><td>POINT (4.8874016 52.3547449)</td></tr><tr><td>76</td><td>restaurant</td><td>475.684</td><td>Lombardo’s</td><td>POINT (4.8887021 52.3635469)</td></tr><tr><td>77</td><td>cafe</td><td>475.684</td><td>Stach cafe</td><td>POINT (4.8884551 52.3633122)</td></tr><tr><td>78</td><td>cafe</td><td>584.227</td><td>Bocca Coffee Roasters</td><td>POINT (4.8868127 52.3644463)</td></tr><tr><td>79</td><td>cafe</td><td>634.081</td><td>Satellite Sportscafe</td><td>POINT (4.8834687 52.3640476)</td></tr><tr><td>80</td><td>restaurant</td><td>511.865</td><td>Picchino</td><td>POINT (4.8849034 52.3632077)</td></tr><tr><td>81</td><td>cafe</td><td>542.675</td><td>Cafe het Hok</td><td>POINT (4.8851645 52.363487)</td></tr><tr><td>82</td><td>restaurant</td><td>542.675</td><td>Mama Impasto</td><td>POINT (4.8850062 52.3634868)</td></tr><tr><td>83</td><td>restaurant</td><td>542.675</td><td>Eetcafé</td><td>POINT (4.8848555 52.3635486)</td></tr><tr><td>84</td><td>restaurant</td><td>509.305</td><td>Castell</td><td>POINT (4.8848679 52.3628166)</td></tr><tr><td>85</td><td>restaurant</td><td>509.305</td><td>Restaurant Dubbel</td><td>POINT (4.8850714 52.3627171)</td></tr><tr><td>86</td><td>cafe</td><td>624.961</td><td>Café|Brasserie Stadsschouwburg</td><td>POINT (4.882281 52.3639853)</td></tr><tr><td>87</td><td>restaurant</td><td>338.413</td><td>Winebar Shiraz</td><td>POINT (4.8857879 52.3623691)</td></tr><tr><td>88</td><td>restaurant</td><td>430.266</td><td>The Avocado Show</td><td>POINT (4.8835362 52.3625483)</td></tr><tr><td>89</td><td>cafe</td><td>584.227</td><td>Coffeeshop Easytimes</td><td>POINT (4.8850229 52.3643312)</td></tr><tr><td>90</td><td>restaurant</td><td>584.227</td><td>Poké Perfect</td><td>POINT (4.8857331 52.3638861)</td></tr><tr><td>91</td><td>cafe</td><td>474.842</td><td>B&amp;B</td><td>POINT (4.8824617 52.3623251)</td></tr><tr><td>92</td><td>restaurant</td><td>542.675</td><td>Tacos &amp; Tequila</td><td>POINT (4.8855319 52.3634016)</td></tr><tr><td>93</td><td>restaurant</td><td>205.118</td><td>Le Rendez-vous</td><td>POINT (4.8863852 52.361421)</td></tr><tr><td>94</td><td>restaurant</td><td>694.408</td><td>Full Moon Garden</td><td>POINT (4.883854 52.3646327)</td></tr><tr><td>95</td><td>cafe</td><td>658.512</td><td>Village Bagels</td><td>POINT (4.8920333 52.3623655)</td></tr><tr><td>96</td><td>restaurant</td><td>600.187</td><td>Carrousel</td><td>POINT (4.891748 52.3589849)</td></tr><tr><td>97</td><td>restaurant</td><td>693.674</td><td>Myrabelle</td><td>POINT (4.8918915 52.3619155)</td></tr><tr><td>98</td><td>restaurant</td><td>681.735</td><td>Piet de Leeuw</td><td>POINT (4.8921422 52.361512)</td></tr><tr><td>99</td><td>restaurant</td><td>681.735</td><td>Sukhothai Thanee</td><td>POINT (4.8924177 52.3614727)</td></tr><tr><td>100</td><td>cafe</td><td>608.813</td><td>Bar Do</td><td>POINT (4.8915062 52.3609252)</td></tr><tr><td>101</td><td>restaurant</td><td>608.813</td><td>Proper. Indofood</td><td>POINT (4.8914637 52.3607992)</td></tr><tr><td>102</td><td>restaurant</td><td>608.813</td><td>SUSHI GK</td><td>POINT (4.8914356 52.3606912)</td></tr><tr><td>103</td><td>restaurant</td><td>567.575</td><td>Iboenda</td><td>POINT (4.8914217 52.3606013)</td></tr><tr><td>104</td><td>cafe</td><td>384.402</td><td>Back to Black coffee bar and roastery</td><td>POINT (4.8885688 52.3610387)</td></tr><tr><td>105</td><td>cafe</td><td>567.575</td><td>Luuk’s</td><td>POINT (4.8913927 52.3605653)</td></tr><tr><td>106</td><td>restaurant</td><td>403.134</td><td>Levant</td><td>POINT (4.8873509 52.361025)</td></tr><tr><td>107</td><td>restaurant</td><td>745.257</td><td>Oresti’s Taverna</td><td>POINT (4.8783821 52.3634426)</td></tr><tr><td>108</td><td>restaurant</td><td>578.59</td><td>Pompa Tapas Bar</td><td>POINT (4.8779295 52.3581174)</td></tr><tr><td>109</td><td>cafe</td><td>578.59</td><td>The Coffee District</td><td>POINT (4.8776367 52.3580174)</td></tr><tr><td>110</td><td>restaurant</td><td>404.016</td><td>Patou</td><td>POINT (4.8813254 52.3602398)</td></tr><tr><td>111</td><td>restaurant</td><td>662.271</td><td>L’ Entrecote et les dames</td><td>POINT (4.8805264 52.3556659)</td></tr><tr><td>112</td><td>restaurant</td><td>662.271</td><td>Bouf</td><td>POINT (4.8805564 52.3556121)</td></tr><tr><td>113</td><td>restaurant</td><td>743.492</td><td>Anjappar</td><td>POINT (4.8806241 52.3548123)</td></tr><tr><td>114</td><td>restaurant</td><td>703.303</td><td>Rainbowl</td><td>POINT (4.8886429 52.3569857)</td></tr><tr><td>115</td><td>restaurant</td><td>703.303</td><td>Van ‘t Spit</td><td>POINT (4.888619 52.3567873)</td></tr><tr><td>116</td><td>cafe</td><td>643.662</td><td>Bakers &amp; Roasters</td><td>POINT (4.8899479 52.3572951)</td></tr><tr><td>117</td><td>restaurant</td><td>511.865</td><td>Chicanos / Tex Mex</td><td>POINT (4.8843666 52.3636279)</td></tr><tr><td>118</td><td>restaurant</td><td>589.052</td><td>Solo</td><td>POINT (4.8803931 52.3560295)</td></tr><tr><td>119</td><td>restaurant</td><td>475.684</td><td>Vatten Ramen</td><td>POINT (4.888799 52.3633111)</td></tr><tr><td>120</td><td>restaurant</td><td>516.948</td><td>Taiko</td><td>POINT (4.87924 52.3585627)</td></tr><tr><td>121</td><td>restaurant</td><td>603.921</td><td>La Storia della Vita</td><td>POINT (4.8922941 52.3596722)</td></tr><tr><td>122</td><td>cafe</td><td>151.799</td><td>&nbsp;</td><td>POINT (4.8857446 52.3597769)</td></tr><tr><td>123</td><td>restaurant</td><td>595.333</td><td>San George</td><td>POINT (4.8796087 52.3629726)</td></tr><tr><td>124</td><td>cafe</td><td>502.485</td><td>Restaurant Stedelijk</td><td>POINT (4.8794436 52.3574939)</td></tr><tr><td>125</td><td>restaurant</td><td>473.36</td><td>Buffet van Odette</td><td>POINT (4.8889892 52.3622855)</td></tr><tr><td>126</td><td>restaurant</td><td>35.034</td><td>Rijks</td><td>POINT (4.8842926 52.3595984)</td></tr><tr><td>127</td><td>restaurant</td><td>576.097</td><td>Lavinia Good Food</td><td>POINT (4.8898054 52.3631654)</td></tr><tr><td>128</td><td>restaurant</td><td>662.271</td><td>Martinot</td><td>POINT (4.8806877 52.3555304)</td></tr><tr><td>129</td><td>restaurant</td><td>677.521</td><td>New York Steakhouse</td><td>POINT (4.8831308 52.364509)</td></tr><tr><td>130</td><td>restaurant</td><td>542.675</td><td>The Pantry</td><td>POINT (4.8849563 52.3634594)</td></tr><tr><td>131</td><td>restaurant</td><td>718.614</td><td>Izakaya</td><td>POINT (4.8875769 52.3545104)</td></tr><tr><td>132</td><td>cafe</td><td>634.081</td><td>Easy Internet Cafe</td><td>POINT (4.8837681 52.3640142)</td></tr><tr><td>133</td><td>cafe</td><td>643.662</td><td>Bakers &amp; Roasters</td><td>POINT (4.889846 52.3573122)</td></tr><tr><td>134</td><td>restaurant</td><td>647.235</td><td>Siriphon</td><td>POINT (4.8898758 52.3575399)</td></tr><tr><td>135</td><td>cafe</td><td>632.032</td><td>Corner Bakery Amsterdam</td><td>POINT (4.8840259 52.3547327)</td></tr><tr><td>136</td><td>cafe</td><td>511.865</td><td>The Rookies</td><td>POINT (4.8852296 52.3629689)</td></tr><tr><td>137</td><td>restaurant</td><td>509.305</td><td>Sumo</td><td>POINT (4.8838817 52.3633312)</td></tr><tr><td>138</td><td>cafe</td><td>658.512</td><td>de Fles</td><td>POINT (4.892228 52.3623331)</td></tr><tr><td>139</td><td>cafe</td><td>354.039</td><td>brasserie zuiderbad</td><td>POINT (4.8860801 52.357493)</td></tr><tr><td>140</td><td>restaurant</td><td>368.975</td><td>Le Tambourin</td><td>POINT (4.881202 52.3582777)</td></tr><tr><td>141</td><td>restaurant</td><td>698.081</td><td>Yuan’s Hot Pot</td><td>POINT (4.8905324 52.3569617)</td></tr><tr><td>142</td><td>restaurant</td><td>703.467</td><td>Padina Bar</td><td>POINT (4.893177 52.357783)</td></tr><tr><td>143</td><td>restaurant</td><td>546.04</td><td>The Pancake Club</td><td>POINT (4.8813295 52.3626071)</td></tr><tr><td>144</td><td>restaurant</td><td>700.448</td><td>Vegan Junk Food Bar</td><td>POINT (4.8916033 52.3572501)</td></tr><tr><td>145</td><td>restaurant</td><td>664.529</td><td>Kailash Parbat</td><td>POINT (4.8924555 52.3596549)</td></tr><tr><td>146</td><td>restaurant</td><td>724.995</td><td>The Beefsteak Club</td><td>POINT (4.8904706 52.3565873)</td></tr><tr><td>147</td><td>cafe</td><td>710.476</td><td>café De Tulp</td><td>POINT (4.8916761 52.3569168)</td></tr><tr><td>148</td><td>cafe</td><td>164.562</td><td>Kiosk Rembrandt Van Gogh</td><td>POINT (4.8831125 52.3592175)</td></tr><tr><td>149</td><td>restaurant</td><td>658.512</td><td>Tokyo Ramen</td><td>POINT (4.8920385 52.3624137)</td></tr><tr><td>150</td><td>restaurant</td><td>714.409</td><td>Eggs Benaddicted</td><td>POINT (4.8849343 52.3643939)</td></tr><tr><td>151</td><td>restaurant</td><td>511.865</td><td>Pier 62</td><td>POINT (4.8847851 52.3631098)</td></tr><tr><td>152</td><td>restaurant</td><td>694.408</td><td>Gandhi</td><td>POINT (4.8829781 52.3649437)</td></tr><tr><td>153</td><td>cafe</td><td>548.835</td><td>Chimney Cake Bakery &amp; Café</td><td>POINT (4.879167 52.356934)</td></tr><tr><td>154</td><td>cafe</td><td>408.368</td><td>Blushing</td><td>POINT (4.8803835 52.3587949)</td></tr><tr><td>155</td><td>restaurant</td><td>743.492</td><td>Anjappar</td><td>POINT (4.8806009 52.3547972)</td></tr><tr><td>156</td><td>cafe</td><td>714.409</td><td>Eggs Benaddicted</td><td>POINT (4.884987 52.3643561)</td></tr><tr><td>157</td><td>restaurant</td><td>686.907</td><td>AN</td><td>POINT (4.8937415 52.3593592)</td></tr><tr><td>158</td><td>restaurant</td><td>694.408</td><td>&nbsp;</td><td>POINT (4.8840819 52.3644521)</td></tr><tr><td>159</td><td>restaurant</td><td>542.675</td><td>Hongdae Amsterdam</td><td>POINT (4.8848957 52.3638537)</td></tr><tr><td>160</td><td>restaurant</td><td>703.467</td><td>&nbsp;</td><td>POINT (4.8931742 52.35772)</td></tr><tr><td>161</td><td>restaurant</td><td>717.7</td><td>Joost</td><td>POINT (4.8780303 52.3625932)</td></tr><tr><td>162</td><td>restaurant</td><td>487.423</td><td>Grand Café Lido</td><td>POINT (4.8819472 52.3625269)</td></tr><tr><td>163</td><td>cafe</td><td>634.081</td><td>Get Down</td><td>POINT (4.8838071 52.3639818)</td></tr></tbody>
</table>

